# Keedio Cloudera Exporter metrics catalog #

## Metrics
All the available metrics

### Status Values

| Value | Mean       |
|:-----:|:----------:|
|   0   | NO DATA    |
|   1   | OK         |
|   2   | UNKNOWN    |
|   3   | DISABLED   |
|   4   | CONCERNING |
|   5   | BAD        |


### Status Module Metrics
| Metric Name                    | Unit             | C.M. Version  | Description       | Metadata                                                                                      |
|--------------------------------|:----------------:|:-------------:|-------------------|-----------------------------------------------------------------------------------------------|
| kbdi_global_status_cluster_up  |  [1-0] (OK\|KO)  |  > 5.8         |  Cluster Status  |  cluster_name, cluster_state, full_version, maintenance_mode                                  |
| kbdi_global_status_host_up     |  [1-0] (OK\|KO)  |  > 5.8         |  Host Status     |  commission_state, health_summary, host_id, hostname, ip, maintenance_mode                    |
| kbdi_global_status_service_up  |  [1-0] (OK\|KO)  |  > 5.8         |  Service Status  |  health_summary, service_name, service_state, service_type                                    |
| kbdi_global_status_role_up     |  [1-0] (OK\|KO)  |  > 5.8         |  Role Status     |  health_summary, role_name, role_state, role_type, hostname, host_id, service                 |


### Host Module Metrics
| Metric Name                         | Unit              | C.M. Version   | Description                                             | Metadata                                                                   |
|-------------------------------------|:-----------------:|:--------------:|---------------------------------------------------------|----------------------------------------------------------------------------|
| kbdi_host_agent_cpu_system_percent  |  %                |  > 5.8         |  CPU % usage in Cloudera agent system operations        |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_agent_cpu_user_percent    |  %                |  > 5.8         |  CPU % usage in Cloudera agent user operations          |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_agent_phys_mem_use        |  bytes            |  > 5.8         |  Physical Memory usage in Cloudera agent                |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_agent_virt_mem_use        |  bytes            |  > 5.8         |  Virtual Memory usage in Cloudera agent                 |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_alerts                    |  alerts           |  > 5.8         |  Num of alerts for each host                            |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_clock_offset              |  ms               |  > 5.8         |  Milliseconds of clock offset for each host             |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_cpu_cores                 |  cores            |  > 5.8         |  Num of Cores for each host                             |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_cpu_iddle_percent         |  %                |  > 5.8         |  % of time for CPU Iddle                                |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_cpu_iowait_percent        |  %                |  > 5.8         |  % of time for CPU IOWait instructions                  |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_cpu_percent_by_host       |  %                |  > 5.8         |  % of time for CPU Usage                                |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_cpu_system_percent        |  %                |  > 5.8         |  % of time for CPU System instructions                  |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_cpu_user_percent          |  %                |  > 5.8         |  % of time for CPU User instructions                    |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_dns_resolution_time       |  ms               |  > 5.8         |  DNS query time resolution                              |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_load_1_by_host            |  Usage By Thread  |  > 5.8         |  CPU usage in last 1 minutes (Linux CPU usage format)   |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_load_5_by_host            |  Usage By Thread  |  > 5.8         |  CPU usage in last 5 minutes (Linux CPU usage format)   |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_load_15_by_host           |  Usage By Thread  |  > 5.8         |  CPU usage in last 15 minutes (Linux CPU usage format)  |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_mem_free_by_host          |  bytes            |  > 5.8         |  Free RAM memory for each host                          |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_mem_total_by_host         |  bytes            |  > 5.8         |  Total RAM memory for each host                         |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_mem_used_by_host          |  bytes            |  > 5.8         |  Used RAM memory for each host                          |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_mem_writeback_by_host     |  bytes            |  > 5.8         |  WriteBack RAM memory for each host                     |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_swap_free_by_host         |  bytes            |  > 5.8         |  Free SWAP memory for each host                         |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_swap_out_by_host          |  pages            |  > 5.8         |  Out SWAP memory for each host                          |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_swap_total_by_host        |  bytes            |  > 5.8         |  Total SWAP memory for each host                        |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_swap_used_by_host         |  bytes            |  > 5.8         |  Used SWAP memory for each host                         |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |
| kbdi_host_uptime                    |  seconds          |  > 5.8         |  Host Uptime                                            |  cluster, hostid, hostname, is_border_node, is_master_node, is_worker_node |


### HDFS Module Metrics
| Metric Name                            | Unit              | C.M. Version   | Description                                                     |  Metadata |
|----------------------------------------|:-----------------:|:--------------:|-----------------------------------------------------------------|-----------|
| kbdi_hdfs_dfs_capacity                 |  bytes            |  > 5.8         |  Distributed File System Capacity                               |  cluster  |
| kbdi_hdfs_dfs_capacity_used            |  bytes            |  > 5.8         |  Distributed File System Capacity Used                          |  cluster  |
| kbdi_hdfs_dfs_capacity_used_percent    |  percent          |  > 5.8         |  Distributed File System Capacity Used in X Percent             |  cluster  |
| kbdi_hdfs_dfs_capacity_non_hdfs_used   |  bytes            |  > 5.8         |  Distributed File System Capacity Used by Non HDFS File System  |  cluster  |
| kbdi_hdfs_block_capacity               |  bytes            |  > 5.8         |  Distributed File System Num Blocks Capacity                    |  cluster  |
| kbdi_hdfs_block_total                  |  blocks           |  > 5.8         |  Distributed File System Num Blocks Total                       |  cluster  |
| kbdi_hdfs_block_corrupt_replicas       |  blocks           |  > 5.8         |  Distributed File System Num Block with corrupted replicas      |  cluster  |
| kbdi_hdfs_block_excess                 |  blocks           |  > 5.8         |  Distributed File System Num Excess blocks                      |  cluster  |
| kbdi_hdfs_block_missing                |  blocks           |  > 5.8         |  Distributed File System Num Missing blocks                     |  cluster  |
| kbdi_hdfs_block_under_replicated       |  blocks           |  > 5.8         |  Distributed File System Num Under-Replicated blocks  Â          |  cluster  | 
| kbdi_hdfs_block_write                  |  blocks           |  > 5.8         |  Distributed File System Rate Writed blocks                     |  cluster  |
| kbdi_hdfs_block_read                   |  blocks           |  > 5.8         |  Distributed File System Rate Readed blocks                     |  cluster  |
| kbdi_hdfs_files_total                  |  file             |  > 5.8         |  Distributed File System Num Total Files In HDFS                |  cluster  |
| kbdi_hdfs_files_size_avg               |  bytes            |  > 5.8         |  Distributed File System Avg Size of Files In HDFS              |  cluster  |
| kbdi_hdfs_heartbeats_expired           |  heartbeats       |  > 5.8         |  Distributed File System Num Total Heartbeats Expired           |  cluster  |
| kbdi_hdfs_namenode_fd_max_descriptors  |  file descriptors |  > 5.8         |  Distributed File System Namenode Max File Descriptors          |  cluster  |
| kbdi_hdfs_snapshot_num                 |  snapshots        |  > 5.8         |  Distributed File System Num Total Snapshots                    |  cluster  |
| kbdi_hdfs_snapshot_dirs                |  dirs             |  > 5.8         |  Distributed File System Num Total Snapshottable Dirs           |  cluster  |

### Impala Module Metrics

| Metric Name                                                               | Unit             | C.M. Version   | Description                                                                                                                                                                                                                                                                                                                                                                                            | Metadata             |
|---------------------------------------------------------------------------|:-----------------|:--------------:|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------|
| kbdi_impala_cgroup_cpu_system_rate                                        |  s/s             |  > 5.8         |  CPU usage of the role's cgroup	                                                                                                                                                                                                                                                                                                                                                                       |  cluster, entityName | 
| kbdi_impala_cgroup_cpu_user_rate                                          |  s/s             |  > 5.8         |  The ratio of cpu space usage of the system for cgroup                                                                                                                                                                                                                                                                                                                                                 |  cluster, entityName | 
| kbdi_impala_cgroup_mem_page_cache                                         |  bytes           |  > 5.8         |  User Space CPU usage of the role's cgroup	                                                                                                                                                                                                                                                                                                                                                           |  cluster, entityName | 
| kbdi_impala_cgroup_mem_rss                                                |  bytes           |  > 5.8         |  Page cache usage of the role's cgroup	                                                                                                                                                                                                                                                                                                                                                               |  cluster, entityName | 
| kbdi_impala_cgroup_mem_swap                                               |  bytes           |  > 5.8         |  Resident memory of the role's cgroup	                                                                                                                                                                                                                                                                                                                                                                 |  cluster, entityName | 
| kbdi_impala_cgroup_read_bytes_rate                                        |  bytes/s         |  > 5.8         |  Swap usage of the role's cgroup	                                                                                                                                                                                                                                                                                                                                                                     |  cluster, entityName | 
| kbdi_impala_cgroup_read_ios_rate                                          |  IO opts/s       |  > 5.8         |  Bytes read from all disks by the role's cgroup	                                                                                                                                                                                                                                                                                                                                                       |  cluster, entityName | 
| kbdi_impala_cgroup_write_bytes_rate                                       |  bytes/s         |  > 5.8         |  Number of read I/O operations from all disks by the role's cgroup	                                                                                                                                                                                                                                                                                                                                   |  cluster, entityName | 
| kbdi_impala_cgroup_write_ios_rate                                         |  IO optsalida/s  |  > 5.8         |  Bytes written to all disks by the role's cgroup	                                                                                                                                                                                                                                                                                                                                                     |  cluster, entityName | 
| kbdi_impala_impala_catalogserver_jvm_heap_committed_usage_bytes           |  bytes           |  > 5.8         |  Number of write I/O operations to all disks by the role's cgroup	                                                                                                                                                                                                                                                                                                                                     |  cluster, entityName | 
| kbdi_impala_impala_catalogserver_jvm_heap_current_usage_bytes             |  bytes           |  > 5.8         |  Current byte usage by Jvm heap                                                                                                                                                                                                                                                                                                                                                                        |  cluster, entityName | 
| kbdi_impala_impala_catalogserver_jvm_heap_init_usage_bytes                |  bytes           |  > 5.8         |  Use of bytes in the initialization of Jvm heap                                                                                                                                                                                                                                                                                                                                                        |  cluster, entityName | 
| kbdi_impala_impala_catalogserver_jvm_heap_max_usage_bytes                 |  bytes           |  > 5.8         |  Maximum use of bytes by Jvm heap                                                                                                                                                                                                                                                                                                                                                                      |  cluster, entityName | 
| kbdi_impala_impala_query_admission_wait_rate                              |  sin unidad      |  5.16.1        |  The waiting time ratio for each query admitted                                                                                                                                                                                                                                                                                                                                                        |  cluster, entityName | 
| kbdi_impala_impala_query_bytes_streamed_rate                              |  bytes/s         |  5.16.1        |  The ratio of bytes sent between Impala Daemons when processing a query                                                                                                                                                                                                                                                                                                                                |  cluster, entityName | 
| kbdi_impala_impala_query_cm_cpu_milliseconds_rate                         |  sin nidad       |  5.16.1        |  Metric that measures the ratio                                                                                                                                                                                                                                                                                                                                                                        |  cluster, entityName | 
| kbdi_impala_impala_query_hdfs_bytes_read_rate                             |  bytes/s         |  5.16.1        |  Total of bytes read from hdfs for that query.                                                                                                                                                                                                                                                                                                                                                         |  cluster, entityName | 
| kbdi_impala_impala_query_hdfs_bytes_written_rate                          |  bytes/s         |  5.16.1        |  Total of bytes written from hdfs for that query                                                                                                                                                                                                                                                                                                                                                       |  cluster, entityName | 
| kbdi_impala_impala_query_memory_accrual_rate                              |  bytes x s / s   |  5.16.1        |  Total of the accumulated memory per query. It is calculated: average use of aggregate memory of the query x its duration                                                                                                                                                                                                                                                                              |  cluster, entityName | 
| kbdi_impala_impala_query_memory_spilled_rate                              |  sin unidad      |  5.16.1        |  The amount of memory spilled on the disk                                                                                                                                                                                                                                                                                                                                                              |  cluster, entityName | 
| kbdi_impala_impala_query_query_duration_rate                              |  ms/s            |  5.16.1        |  The ratio of duration per query                                                                                                                                                                                                                                                                                                                                                                       |  cluster, entityName | 
| kbdi_impala_impala_query_thread_cpu_time_rate                             |  ms/s            |  5.16.1        |  The sum of the CPU time used by all the subprocesses of the query kbdi_impala_mem_rss                                                                                                                                                                                                                                                                                                                 |  cluster, entityName | 
| kbdi_impala_mem_rss                                                       |  bytes           |  > 5.8         |  Memory rss (Resident set size) of cgroup                                                                                                                                                                                                                                                                                                                                                              |  cluster, entityName | 
| kbdi_impala_mem_swap                                                      |  bytes           |  > 5.8         |  Memory swap of cgroup                                                                                                                                                                                                                                                                                                                                                                                 |  cluster, entityName | 
| kbdi_impala_mem_virtual                                                   |  bytes           |  > 5.8         |  Virtual memory used                                                                                                                                                                                                                                                                                                                                                                                   |  cluster, entityName | 
| kbdi_impala_oom_exits_rate                                                |  exits/s         |  > 5.8         |  The number of times the role's backing process was killed due to an OutOfMemory error. This counter is only incremented if the Cloudera Manager "Kill When Out of Memory" option is enabled.	                                                                                                                                                                                                         |  cluster, entityName | 
| kbdi_impala_queries_ingested_rate                                         |  queries/s       |  > 5.8         |  The ratio of queries ingested by the service monitor (Service Monitor)                                                                                                                                                                                                                                                                                                                                |  cluster, entityName | 
| kbdi_impala_queries_oom_rate                                              |  queries/s       |  > 5.8         |  Metric measuring impala queries whose memory consumption exceeds what is permitted                                                                                                                                                                                                                                                                                                                    |  cluster, entityName | 
| kbdi_impala_queries_rejected_rate                                         |  queries/s       |  > 5.8         |  The total number of queries made to Llama that have been rejected over the life of this Impala Daemon.	                                                                                                                                                                                                                                                                                               |  cluster, entityName | 
| kbdi_impala_queries_spilleed_rate                                         |  sin unidad      |  > 5.8         |  The ratio of spilled kerys                                                                                                                                                                                                                                                                                                                                                                            |  cluster, entityName | 
| kbdi_impala_queries_successful_rate                                       |  queries/s       |  > 5.8         |  Metric measuring impala consultations that were successfully executed                                                                                                                                                                                                                                                                                                                                 |  cluster, entityName | 
| kbdi_impala_queries_time_out_rate                                         |  queries/s       |  > 5.8         |  The total number of requests made to Llama that have timed out over the life of this Impala Daemon.	                                                                                                                                                                                                                                                                                                 |  cluster, entityName | 
| kbdi_impala_read_bytes_rate                                               |  bytes           |  > 5.8         |  the ratio of bytes read by impala                                                                                                                                                                                                                                                                                                                                                                     |  cluster, entityName | 
| kbdi_impala_statestore_subscriber_heartbeat_interval_time_last            |  seconds         |  > 5.8         |  The most recent interval between heartbeats from this Impala Daemon to the StateStore.	                                                                                                                                                                                                                                                                                                               |  cluster, entityName | 
| kbdi_impala_statestore_subscriber_heartbeat_interval_time_max             |  seconds         |  > 5.8         |  The maximum interval between heartbeats from this Impala Daemon to the StateStore. This is calculated over the lifetime of the Impala Daemon.	                                                                                                                                                                                                                                                       |  cluster, entityName | 
| kbdi_impala_statestore_subscriber_heartbeat_interval_time_mean            |  seconds         |  > 5.8         |  The average interval between heartbeats from this Impala Daemon to the StateStore. This is calculated over the lifetime of the Impala Daemon.	                                                                                                                                                                                                                                                       |  cluster, entityName | 
| kbdi_impala_statestore_subscriber_heartbeat_interval_time_min             |  seconds         |  > 5.8         |  The minimum interval between heartbeats from this Impala Daemon to the StateStore. This is calculated over the lifetime of the Impala Daemon.	                                                                                                                                                                                                                                                       |  cluster, entityName | 
| kbdi_impala_statestore_subscriber_heartbeat_interval_time_rate            |  muestras/s      |  > 5.8         |  The total number of samples taken of the Impala Daemon's StateStore heartbeat interval.	                                                                                                                                                                                                                                                                                                             |  cluster, entityName | 
| kbdi_impala_statestore_subscriber_heartbeat_interval_time_stddev          |  seconds         |  > 5.8         |  The standard deviation in the interval between heartbeats from this Impala Daemon to the StateStore. This is calculated over the lifetime of the Impala Daemon.	                                                                                                                                                                                                                                     |  cluster, entityName | 
| kbdi_impala_statestore_subscriber_last_recovery_duration                  |  seconds         |  > 5.8         |  The amount of time the StateStore subscriber took to recover the connection the last time it was lost.	                                                                                                                                                                                                                                                                                               |  cluster, entityName | 
| kbdi_impala_statestore_subscriber_statestore_client_cache_clients_in_use  |  connections     |  > 5.8         |  The number of active StateStore subscriber clients in this Impala Daemon's client cache. These clients are for communication from this role to the StateStore.	                                                                                                                                                                                                                                       |  cluster, entityName | 
| kbdi_impala_statestore_subscriber_statestore_client_cache_total_clients   |  connections     |  > 5.8         |  The total number of StateStore subscriber clients in this Impala Daemon's client cache. These clients are for communication from this role to the StateStore.	                                                                                                                                                                                                                                       |  cluster, entityName | 
| kbdi_impala_tcmalloc_bytes_in_use                                         |  bytes           |  > 5.8         |  Number of bytes used by the application. This will not typically match the memory use reported by the OS, because it does not include TCMalloc overhead or memory fragmentation.	                                                                                                                                                                                                                     |  cluster, entityName | 
| kbdi_impala_tcmalloc_pageheap_free_bytes                                  |  bytes           |  > 5.8         |  Number of bytes in free, mapped pages in page heap. These bytes can be used to fulfill allocation requests. They always count towards virtual memory usage, and unless the underlying memory is swapped out by the OS, they also count towards physical memory usage.	                                                                                                                               |  cluster, entityName | 
| kbdi_impala_tcmalloc_pageheap_unmapped_bytes                              |  bytes           |  > 5.8         |  Number of bytes in free, unmapped pages in page heap. These are bytes that have been released back to the OS, possibly by one of the MallocExtension "Release" calls. They can be used to fulfill allocation requests, but typically incur a page fault. They always count towards virtual memory usage, and depending on the OS, typically do not count towards physical memory usage.	             |  cluster, entityName | 
| kbdi_impala_tcmalloc_physical_bytes_reserved                              |  bytes           |  > 5.8         |  Derived metric computing the amount of physical memory (in bytes) used by the process, including that actually in use and free bytes reserved by tcmalloc. Does not include the tcmalloc metadata.	                                                                                                                                                                                                   |  cluster, entityName | 
| kbdi_impala_tcmalloc_total_bytes_reserved                                 |  bytes           |  > 5.8         |  Bytes of system memory reserved by TCMalloc.	                                                                                                                                                                                                                                                                                                                                                         |  cluster, entityName | 
| kbdi_impala_thrift_server_catalog_service_connections_in_use              |  connections     |  > 5.8         |  The active catalog server connections to this catalog server                                                                                                                                                                                                                                                                                                                                          |  cluster, entityName | 
| kbdi_impala_thrift_server_catalog_service_connections_rate                |  connections     |  > 5.8         |  The total number of connections made to this Catalog Server service catalog during its useful life.                                                                                                                                                                                                                                                                                                   |  cluster, entityName | 
| kbdi_impala_write_bytes_rate                                              |  bytes/s         |  > 5.8         |  The number of bytes written to the device	                                                                                                                                                                                                                                                                                                                                                           |  cluster, entityName | 




### KBDI Metrics
| Metric Name | Unit           | Description                     | Metadata |
|-------------|:--------------:|---------------------------------|----------|
| kbdi_up     | [1-0] (OK-KO) | Keedio Big Data Insights Status | None     | 


